/***************************************************************************************************************************************************************
 * HIGHSCORE
 *
 * Interact with the highscore
 **************************************************************************************************************************************************************/

//--------------------------------------------------------------------------------------------------------------------------------------------------------------
// Get current highscore
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
function getHighscore(req, res, next) {
	var highscore = $HIGHSCORE.getData("/");

	res.send(highscore); //output json
}


//--------------------------------------------------------------------------------------------------------------------------------------------------------------
// Save current highscore
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
function postHighscore(req, res, next) {
	var highscore = $HIGHSCORE.getData("/");
	var $data = req.params;

	highscore.push( $data ); //add new data to object

	highscore = highscore //sort by score
		.sort(function(firstObject, SecondObject) {
			return SecondObject.score - firstObject.score;
	});

	$HIGHSCORE.push('/', highscore);
	$HIGHSCORE.save(); //write to json

	res.send(highscore); //output json
}