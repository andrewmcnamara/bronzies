/***************************************************************************************************************************************************************
 * HIGHSCORE
 *
 * Interact with the highscore
 **************************************************************************************************************************************************************/

//--------------------------------------------------------------------------------------------------------------------------------------------------------------
// Get current highscore
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
function getHighscore(req, res, next) {
	var highscore = $HIGHSCORE.getData("/");

	res.send(highscore);
}


//--------------------------------------------------------------------------------------------------------------------------------------------------------------
// Save current highscore
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
function pushHighscore(req, res, next, data) {
	var highscore = $HIGHSCORE.getData("/");

	highscore = highscore.sort(function(firstObject, SecondObject) {
		return SecondObject.score - firstObject.score;
	});

	$HIGHSCORE.push('/', highscore);
	$HIGHSCORE.save();

	res.send(highscore);
}